{"version":3,"sources":["webpack://exam02/./src/services.js","webpack://exam02/webpack/bootstrap","webpack://exam02/webpack/runtime/define property getters","webpack://exam02/webpack/runtime/hasOwnProperty shorthand","webpack://exam02/webpack/runtime/make namespace object","webpack://exam02/./src/app.js"],"names":["fetchLogin","username","fetch","method","headers","Headers","body","JSON","stringify","credentials","Promise","reject","errorCode","then","response","ok","json","err","fetchLoginStatus","fetchLogout","fetchRecipes","fetchRecipeDetails","recipeId","fetchNewRecipe","addNewRecipe","title","ingredients","instructions","loginButton","document","querySelector","loginPanel","status","recipeList","newRecipePanel","recipeDetailPanel","addRecipe","backHomepage","errorMessages","appState","isHomePage","isLoggedIn","abilityToLogin","abilityToAdd","recipes","recipeDetails","error","renderHomePage","innerHTML","renderErrors","renderRecipes","innerText","renderLogin","show","disabled","addEventListener","event","target","classList","contains","preventDefault","renderRecipeDetail","renderNewRecipePanel","addUser","value","text","recipesInfo","map","recipe","author","join","dataset","Object","keys","length","newRecipe"],"mappings":"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","file":"app.js","sourcesContent":["\"use strict\";\n//login & logout\nexport const fetchLogin = (username) => {\n    return fetch('/session', {\n        method: \"POST\",\n        headers: new Headers({\n            'content-type': 'application/json'\n        }),\n        body: JSON.stringify({ username }),\n        credentials: 'include',\n    })\n        .catch( () => Promise.reject({ errorCode: 'network-error' }))\n        .then( (response) => {\n            if(!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return response.json();\n        });\n};\n\nexport const fetchLoginStatus = () => {\n    return fetch('/session', {\n        method: 'GET',\n    })\n        .catch( () => {\n            return Promise.reject({ errorCode: 'network-error' })\n        })\n        .then( (response) => {\n            if(!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return;\n        });\n};\n\nexport const fetchLogout = () => {\n    return fetch('/session', {\n        method: 'DELETE',\n        headers: new Headers({\n            'content-type': 'application/json'\n        })\n    })\n        .catch( () => Promise.reject({errorCode: 'network-error'}) )\n        .then( (response) => {\n            if (!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) )\n            }\n            return;\n        });\n};\n\n//load recipe\nexport const fetchRecipes = () => {\n    return fetch('/recipes', {\n        method: \"GET\",\n    })\n        .catch( () => Promise.reject({ errorCode: 'network-error' }))\n        .then( (response) => {\n            if(!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return response.json();\n        });\n};\n\nexport const fetchRecipeDetails = (recipeId) => {\n    return fetch(`/recipes/${recipeId}`, {\n        method: 'GET',\n        credentials: 'include',\n    })\n        .catch( () => Promise.reject({ errorCode: 'network-error' }))\n        .then( (response) => {\n            if(!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return response.json();\n        });\n};\n\n//new recipes\nexport const fetchNewRecipe = () => {\n    return fetch('/newRecipe', {\n        method: 'GET',\n        credentials: 'include',\n    })\n        .catch( () => Promise.reject({ errorCode: 'network-error' }))\n        .then( (response) => {\n            if (!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return;\n        });\n};\n\nexport const addNewRecipe = ({ title, ingredients, instructions }) => {\n    return fetch('/newRecipe', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json'\n        }),\n        body: JSON.stringify({ title, ingredients, instructions }),\n        credentials: 'include',\n    })\n        .catch( () => Promise.reject({ errorCode: 'network-error' }))\n        .then( (response) => {\n            if(!response.ok) {\n                return response.json().then( (err) => Promise.reject(err) );\n            }\n            return response.json();\n        });\n};\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\nimport {\n    fetchLogin,\n    fetchLoginStatus,\n    fetchLogout,\n    fetchRecipes,\n    fetchRecipeDetails,\n    fetchNewRecipe,\n    addNewRecipe } from './services';\n\nconst loginButton = document.querySelector('.login');\nconst loginPanel = document.querySelector('.login-panel');\nconst status = document.querySelector('.status');\nconst recipeList = document.querySelector('.recipe-list-panel');\nconst newRecipePanel = document.querySelector('.new-recipe-panel');\nconst recipeDetailPanel = document.querySelector('.recipe-details-panel');\nconst addRecipe = document.querySelector('.add-button');\nconst backHomepage = document.querySelector('.back-button');\n\nconst errorMessages = {\n    'network-error': \"There is a problem connecting to the network, please try again\",\n    'missing-user': \"The user doesn't exist, please login first\",\n    'invalid-username': \"Invalid username, please enter a name without whitespace & 'dog' (upper and lower case A-Z, numbers, and underscore is allowed)\",\n    'missing-content': \"Please enter recipe details\",\n    'missing-recipe' : \"The recipe doesn't exist, please try again\"\n};\n\nconst appState = {\n    isHomePage: false,\n    isLoggedIn: false,\n    abilityToLogin: false,\n    abilityToAdd: false,\n    recipes:[],\n    recipeDetails: {},\n    error:'',\n};\n\nfunction renderHomePage() {\n    if(appState.abilityToLogin) {\n        loginButton.innerHTML = ``;\n        recipeList.innerHTML = ``;\n        addRecipe.innerHTML = ``;\n        renderErrors(appState.error);\n        return;\n    }\n    if (appState.isLoggedIn) {\n        loginButton.innerHTML = `\n            <button class=\"logout-button\">Sign out</button>`;\n    } else {\n        loginButton.innerHTML = `\n            <button class=\"login-button\">Sign in</button>`;\n    }\n\n    if (appState.isHomePage) {\n        recipeList.innerHTML = `\n            <div class=\"recipes-list\">\n                <ul class=\"recipes\"> </ul> \n            </div>\n        `;\n        renderRecipes(appState.recipes);\n        addRecipe.innerHTML = `<button class=\"new-recipe-button\">Add Your Recipe</button>`;\n    } else {\n        recipeList.innerHTML = ``;\n        backHomepage.innerHTML = `<button class=\"back-home-button\">Back to Home</button>`\n    }\n    renderErrors(appState.error);\n}\n\n\nfunction renderErrors(error) {\n    status.innerText = errorMessages[error] || error;\n}\n\n\nfunction renderLogin (show) {\n    if (show) {\n        loginPanel.innerHTML = `\n                <input class=\"username\" type=\"text\" placeholder=\"Please enter a user name\" />\n                <button class=\"to-login-button\" type=\"button\">Sign in</button>\n        `;\n        loginPanel.querySelector('.to-login-button').disabled = true;\n    } else {\n        loginPanel.innerHTML = ``;\n    }\n}\n\nloginButton.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('login-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchLoginStatus()\n        .then( () => {\n            appState.abilityToLogin = false;\n            renderHomePage(appState.abilityToLogin);\n        })\n        .catch( () => {\n            appState.abilityToLogin = true;\n            appState.recipeDetails = {};\n            appState.abilityToAdd = false;\n            appState.error = '';\n            renderHomePage();\n            renderLogin(appState.abilityToLogin);\n            renderRecipeDetail(appState.recipeDetails);\n            renderNewRecipePanel(appState.abilityToAdd);\n        });\n});\n\n\n\nloginPanel.addEventListener('click', (event) => {\n    if (!event.target.classList.contains('to-login-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    const addUser = loginPanel.querySelector('.username');\n    const username = addUser.value;\n    addUser.value = '';\n\n    fetchLogin(username)\n        .then( (text) => {\n            appState.isLoggedIn = true;\n            appState.abilityToLogin = false;\n            appState.isHomePage = true;\n            appState.recipes = text;\n            appState.error = '';\n            renderHomePage();\n            renderLogin(appState.abilityToLogin);\n        })\n        .catch( (err) => {\n            appState.error = err.errorCode;\n            renderHomePage();\n            renderLogin(appState.abilityToLogin);\n            renderErrors(appState.error);\n        });\n});\n\n\nfunction renderRecipes(recipes) {\n    const recipesInfo = recipeList.querySelector('.recipes');\n    recipesInfo.innerHTML = recipes.map( recipe => {\n        return `\n            <li class=\"recipe-info\">\n                <span class=\"recipe-title\" data-recipe-id=\"${recipe.recipeId}\">${recipe.title}</span>\n                <span class=\"recipe-author\" data-recipe-id=\"${recipe.recipeId}\">${recipe.author}</span>\n            </li>\n        `;\n    }).join(' ');\n}\n\n\nloginPanel.addEventListener('keyup', (event) => {\n    if (!event.target.classList.contains('username')) {\n        return;\n    }\n    const text = event.target.value;\n    loginPanel.querySelector('.to-login-button').disabled = !text;\n});\n\n\nloginButton.addEventListener('click', (event) => {\n    if (!event.target.classList.contains('logout-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchLogout()\n        .then( () => {\n            appState.isHomePage = true;\n            appState.isLoggedIn = false;\n            appState.recipeDetails = {};\n            appState.abilityToAdd = false;\n            appState.error = '';\n            renderHomePage();\n            renderRecipeDetail(appState.recipeDetails);\n            renderNewRecipePanel(appState.abilityToAdd);\n        })\n        .catch( (err) => {\n            appState.error = err.errorCode;\n            renderErrors();\n        });\n});\n\n\n\nrecipeList.addEventListener('click', (event) => {\n    if (!event.target.classList.contains('recipe-title')) {\n        return;\n    }\n    event.preventDefault();\n\n    const recipeId = event.target.dataset.recipeId;\n    event.preventDefault();\n    fetchRecipeDetails(recipeId)\n        .then((recipeDetails) => {\n            appState.isHomePage = false;\n            appState.recipeDetails = recipeDetails;\n            appState.error = '';\n            renderHomePage();\n            renderRecipeDetail(appState.recipeDetails);\n        })\n        .catch( (err) => {\n            appState.error = err.errorCode;\n            renderHomePage(appState.isHomePage);\n        });\n});\n\n\nfunction renderRecipeDetail(recipeDetails) {\n    if(Object.keys(recipeDetails).length === 0) {\n        recipeDetailPanel.innerHTML = ``;\n    } else {\n        recipeDetailPanel.innerHTML = `\n            <h2 class=\"title\"> Recipt Details </h2>\n            <div class=\"show-recipe-title\">\n                <label>Title:</label>\n                <span>${recipeDetails.title}</span>\n            </div>\n            <div class=\"show-recipe-author\">\n                <label>Author:</label>\n                <span>${recipeDetails.author}</span>\n            </div>\n            <div class=\"show-recipe-ingredients\">\n                <label>Ingredients:</label><br/>\n                <span>${recipeDetails.ingredients}</span>\n            </div>\n            <div class=\"show-recipe-instructions\">\n                <label>Instructions:</label><br/>\n                <span>${recipeDetails.instructions}</span>\n            </div>\n        `;\n    }\n}\n\n\nbackHomepage.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('back-home-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchRecipes()\n        .then((text) => {\n            appState.isHomePage = true;\n            appState.recipes = text;\n            appState.recipeDetails = {};\n            appState.abilityToAdd = false;\n            appState.error = '';\n            renderHomePage();\n            renderRecipeDetail(appState.recipeDetails);\n            renderNewRecipePanel(appState.abilityToAdd);\n        });\n});\n\n\nfunction renderNewRecipePanel(show) {\n    if (show) {\n        newRecipePanel.innerHTML = `\n            <h2 class=\"title\"> Add New Recipe </h2>\n            <div class=\"new-recipe-panel\">\n                <div>\n                    <label>Title: </label><br/>\n                    <textarea class=\"new-recipe-title\" placeholder=\"Please add recipe name\"></textarea>\n                </div>\n                <div>\n                    <label>Ingredients: </label><br/>\n                    <textarea class=\"new-recipe-ingredients\" placeholder=\"Please add recipe ingredients\"></textarea>\n                </div>\n                <div>\n                    <label>Instructions: </label><br/>\n                    <textarea class=\"new-recipe-instructions\" placeholder=\"Please add recipe instructions\"></textarea>\n                </div>\n                <div>\n                    <button class=\"to-add-recipe\">Add</button>\n                </div>\n            </div>\n        `;\n    } else {\n        newRecipePanel.innerHTML = ``;\n    }\n}\n\n\naddRecipe.addEventListener('click', (event) => {\n    if(!event.target.classList.contains('new-recipe-button')) {\n        return;\n    }\n    event.preventDefault();\n\n    fetchNewRecipe()\n        .then( () => {\n            appState.isHomePage = false;\n            appState.isLoggedIn = true;\n            appState.abilityToAdd = true;\n            appState.error = '';\n            renderHomePage();\n            renderNewRecipePanel(appState.abilityToAdd);\n        })\n        .catch( (err) => {\n            appState.error = err.errorCode;\n            appState.isHomePage = true;\n            appState.isLoggedIn = false;\n            renderHomePage();\n        });\n});\n\n\nnewRecipePanel.addEventListener('click', (event) => {\n    if (!event.target.classList.contains('to-add-recipe')) {\n        return;\n    }\n    event.preventDefault();\n\n    const title = newRecipePanel.querySelector('.new-recipe-title').value;\n    const ingredients = newRecipePanel.querySelector('.new-recipe-ingredients').value;\n    const instructions = newRecipePanel.querySelector('.new-recipe-instructions').value;\n\n    newRecipePanel.querySelector('.new-recipe-title').value = '';\n    newRecipePanel.querySelector('.new-recipe-ingredients').value = '';\n    newRecipePanel.querySelector('.new-recipe-instructions').value = '';\n\n    addNewRecipe({ title, ingredients, instructions })\n        .then( (newRecipe) => {\n            appState.isHomePage = false;\n            appState.isLoggedIn = true;\n            appState.recipeDetails = newRecipe;\n            appState.abilityToAdd = false;\n            appState.error = '';\n            renderHomePage();\n            renderNewRecipePanel(appState.abilityToAdd);\n            renderRecipeDetail(appState.recipeDetails);\n        })\n        .catch( (err) => {\n            appState.isHomePage = false;\n            appState.isLoggedIn = true;\n            appState.error = err.errorCode;\n            renderHomePage();\n            renderNewRecipePanel(appState.abilityToAdd);\n        });\n});\n\n\n\nfetchLoginStatus()\n    .then( () => {\n        appState.isLoggedIn = true;\n        renderHomePage();\n    })\n    .catch( () => {\n        appState.isLoggedIn = false;\n        renderHomePage();\n    });\n\nfetchRecipes()\n    .then( (text) => {\n        appState.isHomePage = true;\n        appState.recipes = text;\n        renderHomePage();\n    });\n"],"sourceRoot":""}